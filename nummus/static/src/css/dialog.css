@utility dialog-wrapper {
    @apply fixed;
    @apply max-h-full overflow-y-scroll scroll-smooth;
    @apply left-[50vw] top-[50vh] -translate-x-1/2 -translate-y-1/2;

    max-width: calc(100vw - var(--spacing) * 4);

    &:has(.dialog:empty) {
        @apply hidden;
    }

    &:has(.dialog:not(:empty))+.scrim {
        @apply translate-x-0 opacity-100;
        transition: opacity 0.3s, translate 0s;
    }

    @variant max-md {
        &:has(.full-screen) {
            @apply inset-0 translate-0 max-w-full;
        }
    }
}

@utility dialog {
    @apply p-3 rounded-3xl;
    @apply min-w-64 max-w-full min-h-full;
    @apply bg-surface-container-high;


    &>div:first-child {
        @apply mb-2;
        @apply sticky top-0 z-10 bg-surface-container-high;

        &>div {
            @apply flex items-center gap-1;

            &>h1 {
                @apply font-serif text-primary text-2xl whitespace-nowrap mr-12 grow;
            }

            &>button {
                @apply btn-text;
            }
        }

        &>error {
            @apply block text-error text-sm text-center h-5;
        }

    }

    &>form {
        @apply max-w-full;
    }

    @variant max-md {
        &:has(.full-screen) {
            @apply rounded-none;
        }
    }
}
