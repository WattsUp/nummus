/* static/src/main.css */

@import "tailwindcss";

@import "./fonts.css";
@import "./buttons.css";
@import "./inputs.css";
@import "./prose.css";

@import "./nav.css";
@import "./dialog.css";

/* Apply dark theme if on element or any ancestor */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
    --color-*: initial;

    --color-primary: #3F6837;
    --color-on-primary: #FFFFFF;
    --color-primary-container: #BFF0B1;
    --color-on-primary-container: #002201;
    --color-primary-fixed: #BFF0B1;
    --color-on-primary-fixed: #002201;
    --color-primary-fixed-dim: #A4D396;
    --color-on-primary-fixed-variant: #275021;
    --color-inverse-primary: #A4D396;

    --color-secondary: #53634E;
    --color-on-secondary: #FFFFFF;
    --color-secondary-container: #D7E8CD;
    --color-on-secondary-container: #121F0F;
    --color-secondary-fixed: #D7E8CD;
    --color-on-secondary-fixed: #121F0F;
    --color-secondary-fixed-dim: #BBCBB2;
    --color-on-secondary-fixed-variant: #3C4B37;

    --color-tertiary: #386569;
    --color-on-tertiary: #FFFFFF;
    --color-tertiary-container: #BCEBEF;
    --color-on-tertiary-container: #002022;
    --color-tertiary-fixed: #BCEBEF;
    --color-on-tertiary-fixed: #002022;
    --color-tertiary-fixed-dim: #A0CFD2;
    --color-on-tertiary-fixed-variant: #1E4D51;

    --color-error: #BA1A1A;
    --color-on-error: #FFFFFF;
    --color-error-container: #FFDAD6;
    --color-on-error-container: #410002;

    --color-surface: #F8FBF1;
    --color-on-surface: #191D17;
    --color-surface-dim: #D8DBD2;
    --color-surface-bright: #F8FBF1;
    --color-surface-variant: #DFE4D8;
    --color-on-surface-variant: #43493F;

    --color-inverse-surface: #2E322B;
    --color-inverse-on-surface: #EFF2E8;

    --color-surface-container-lowest: #FFFFFF;
    --color-surface-container-low: #F2F5EB;
    --color-surface-container: #ECEFE5;
    --color-surface-container-high: #E6E9E0;
    --color-surface-container-highest: #E1E4DA;

    --color-outline: #73796E;
    --color-outline-variant: #C3C8BC;

    --color-shadow: #000000;
    --color-scrim: #000000;

    --color-white: #fff;
    --color-black: #000;

    /* Chart colors */
    --color-c0: #4472c4;
    --color-c2: #966bc2;
    --color-c2: #c16794;
    --color-c3: #c4996e;
    --color-c4: #6bc296;

    --font-serif: 'linux-libertine',
        'serif',
        'noto-color-emoji';
    --font-sans: 'liberation-sans',
        'sans-serif',
        'noto-color-emoji';
    --font-title: 'fogtwo-no5',
        'serif',
        'noto-color-emoji';
    --font-mono: 'code-new-roman',
        'monospace',
        'noto-color-emoji';
}

@layer base {

    icon {
        user-select: none;
        font-family: "material-icons-outlined";
        font-weight: normal;
        font-style: normal;
        font-size: 24px;
        line-height: 1;
        letter-spacing: normal;
        text-transform: none;
        display: inline-block;
        white-space: nowrap;
        word-wrap: normal;
        direction: ltr;
        -moz-font-feature-settings: "liga";
        font-feature-settings: "liga";
        -moz-osx-font-smoothing: grayscale;
    }

    icon.filled {
        font-variation-settings: 'FILL' 1;
    }

    html {
        @apply scroll-smooth overscroll-y-contain;

        @variant dark {
            --color-primary: #A4D396;
            --color-on-primary: #10380C;
            --color-primary-container: #275021;
            --color-on-primary-container: #BFF0B1;
            --color-inverse-primary: #3F6837;

            --color-secondary: #BBCBB2;
            --color-on-secondary: #263422;
            --color-secondary-container: #3C4B37;
            --color-on-secondary-container: #D7E8CD;

            --color-tertiary: #A0CFD2;
            --color-on-tertiary: #00373A;
            --color-tertiary-container: #1E4D51;
            --color-on-tertiary-container: #BCEBEF;

            --color-error: #FFB4AB;
            --color-on-error: #690005;
            --color-error-container: #93000A;
            --color-on-error-container: #FFDAD6;

            --color-bg: #11140F;
            --color-on-bg: #E1E4DA;
            --color-surface: #11140F;
            --color-on-surface: #E1E4DA;
            --color-surface-dim: #11140F;
            --color-surface-bright: #363A34;
            --color-surface-variant: #43493F;
            --color-on-surface-variant: #C3C8BC;

            --color-inverse-surface: #E1E4DA;
            --color-inverse-on-surface: #2E322B;

            --color-surface-container-lowest: #0B0F0A;
            --color-surface-container-low: #191D17;
            --color-surface-container: #1D211B;
            --color-surface-container-high: #272B25;
            --color-surface-container-highest: #32362F;

            --color-outline: #8D9387;
            --color-outline-variant: #43493F;

            --color-shadow: #000000;
            --color-scrim: #000000;
        }
    }

    body {
        @apply antialiased h-screen w-screen relative overscroll-y-contain;
        @apply bg-surface text-on-surface;
        @apply max-md:scroll-mt-10;
    }

    table td {
        @apply px-1 py-0.5;
    }

    table>thead {
        @apply sticky top-0;
        @apply bg-surface;
    }

    table>tbody>tr {
        @apply even:bg-surface-container;
        @apply hover:bg-surface-container-high;
    }

}

@layer components {
    .scrim {
        @apply fixed inset-0;
        @apply -translate-x-full;
        @apply bg-scrim/40 opacity-0;

        /* delay translate until opacity finishes */
        transition: opacity 0.3s, translate 0s 0.3s;
    }

    #main-wrapper {
        @apply min-h-screen relative;
        @apply max-md:mt-10 max-md:mb-16.5;
        @apply md:ml-24 lg:ml-52;
    }

    #main {
        @apply p-2 min-h-full pb-20;
    }

    #main-footer {
        @apply p-2 absolute bottom-0 w-full;
        @apply text-sm text-center;
    }
}

@utility error {
    @apply flex items-center justify-center gap-1 p-1 rounded-md;
    @apply empty:hidden;
    @apply bg-error-container text-on-error-container;
}
