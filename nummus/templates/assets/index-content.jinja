<section class="flex flex-col bg-white max-w-screen-lg m-auto p-2 h-full"
         hx-get="{{ url_for("assets.page", uri=asset["uri"]) }}"
         hx-include="#txn-config,#txn-header"
         hx-trigger="update-asset from:body"
         hx-target="#main"
         hx-swap="innerHTML">
    <div class="w-full flex justify-between">
        <div>
            <h1 class="text-3xl align-left w-full font-serif text-green-600 flex items-center">
                {{ asset["name"] }}
                <div class="w-[20px] group cursor-pointer"
                     hx-get="{{ url_for("assets.edit", uri=asset["uri"]) }}"
                     hx-target="#overlay"
                     hx-swap="innerHTML">
                    {% with class="fill-green-600 transition-colors group-hover:fill-black" %}
                        {% include "svg/pencil.svg" %}
                    {% endwith %}
                </div>
            </h1>
            <h2 class="italic">{{ asset["description"] }}</h2>
        </div>
        <div class="ml-12 whitespace-nowrap">
            <h1 class="text-3xl font-serif text-green-600 text-right">{{ asset["value"] | money }}</h1>
            <h2 class="w-full text-center italic">as of {{ asset["value_date"] }}</h2>
        </div>
    </div>
    <div class="w-full h-96 relative">
        <canvas id="asset-chart-canvas"></canvas>
        {% include "shared/spinner.jinja" %}
    </div>
    <p class="w-full italic">Valuations are pruned to only when assets are held.</p>
    <h1 class="text-3xl align-left w-full font-serif text-green-600">Profit & Loss</h1>
    <div class="w-full h-96 relative">
        <canvas id="profit-chart-canvas"></canvas>
        {% include "shared/spinner.jinja" %}
    </div>
    <div class="w-full flex flex-col grow"
         hx-target="#txn-table"
         hx-swap="outerHTML"
         hx-indicator=".spinner">
        <h1 class="text-3xl align-left w-full font-serif text-green-600">Valuations</h1>
        {% if not asset["ticker"] %}
            <div>
                <button class="button hover:blue">Manually add valuation</button>
            </div>
        {% endif %}
    </div>
</section>
