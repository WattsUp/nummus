<section class="bg-white max-w-screen-lg m-auto p-2 min-h-full"
         hx-get="{{ url_for('cash_flow.page') }}"
         hx-include="#txn-config,#txn-header"
         hx-trigger="update-account from:body"
         hx-target="#main"
         hx-swap="innerHTML">
    <h1 class="text-2xl md:text-3xl align-left w-full font-serif text-green-600">Cash Flow</h1>
    <div class="w-full h-60 md:h-96 relative">
        <canvas id="cash-flow-chart-canvas" hx-preserve></canvas>
        {% include "shared/spinner.jinja" %}
    </div>
    <h1 class="text-2xl md:text-3xl align-left w-full font-serif text-green-600">Income</h1>
    <div class="flex w-full justify-center items-stretch relative gap-1 flex-wrap">
        <div class="w-64 shrink-0 flex items-center">
            <canvas id="income-pie-chart-canvas" hx-preserve></canvas>
        </div>
        <div class="max-w-[32rem] max-h-64 grow overflow-y-auto">
            <div class="flex flex-col" id="income-breakdown"></div>
        </div>
        {% include "shared/spinner.jinja" %}
    </div>
    <h1 class="text-2xl md:text-3xl align-left w-full font-serif text-green-600">Expense</h1>
    <div class="flex w-full justify-center items-stretch relative gap-1 flex-wrap">
        <div class="w-64 shrink-0 flex items-center">
            <canvas id="expense-pie-chart-canvas" hx-preserve></canvas>
        </div>
        <div class="max-w-[32rem] max-h-64 grow overflow-y-auto">
            <div class="flex flex-col" id="expense-breakdown"></div>
        </div>
        {% include "shared/spinner.jinja" %}
    </div>
    {% include "cash-flow/chart-data.jinja" %}
    <div class="w-full"
         hx-target="#txn-table"
         hx-swap="outerHTML"
         hx-indicator=".spinner">
        <h1 class="text-2xl md:text-3xl align-left w-full font-serif text-green-600">Transactions</h1>
        {% include "transactions/table-config.jinja" %}
        {% include "transactions/table-paging.jinja" %}
        <div class="w-full max-h-[70vh] overflow-y-scroll">
            {% include "transactions/table-header.jinja" %}
            {% include "transactions/table.jinja" %}
        </div>
    </div>
</section>
