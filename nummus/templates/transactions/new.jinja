<div class="absolute inset-0 bg-grey-500 opacity-50 z-[-1] cursor-pointer"
     hx-get="{{ url_for('common.empty') }}"
     hx-swap="innerHTML"></div>
<div class="w-[500px] h-[400px] max-h-[90vh] bg-white opacity-100 m-auto flex flex-col pt-2"
     hx-include="#form-txn">
    <button hx-get="{{ url_for('common.empty') }}"
            class="ml-auto px-6"
            hx-swap="innerHTML"
            hx-include="this">
        {% with class="w-[32px] h-[32px]" %}
            {% include "svg/x.svg" %}
        {% endwith %}
    </button>
    <h1 class="font-serif text-4xl px-6 text-green-600">New transaction</h1>
    <div class="flex flex-col w-full px-6 grow" id="form-txn">
        <table class="w-full whitespace-nowrap">
            <tbody>
                <tr>
                    <td class="pr-4">Date</td>
                    <td>
                        <input class="w-full"
                               name="date"
                               type="date"
                               value="{{ parent["date"] }}"
                               autocomplete="off">
                    </td>
                </tr>
                <tr>
                    <td class="pr-4">Account Name</td>
                    <td>
                        <select class="w-full" name="account" autocomplete="off">
                            {% for item in accounts %}
                                <option value="{{ item }}"
                                        {% if item == parent["account"] %}selected{% endif %}>{{ item }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="pr-4">Total Amount</td>
                    <td>
                        <input name="amount"
                               value="{{ parent["amount"] or "" }}"
                               placeholder="Amount"
                               class="w-[7rem] min-w-[7rem] p-1 truncate w-full"
                               autocomplete="off">
                    </td>
                </tr>
                <tr>
                    <td class="pr-4">Statement</td>
                    <td>
                        <input name="statement"
                               value="{{ parent["statement"] or "" }}"
                               placeholder="Manually added"
                               class="w-[7rem] min-w-[7rem] p-1 truncate w-full"
                               autocomplete="off">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="overlay-error"
         class="w-full bg-red px-6 py-2 text-xl empty:hidden"></div>
    <div class="w-full h-16 bg-grey-100 flex justify-end items-center px-6 text-xl gap-4">
        <button hx-get="{{ url_for('common.empty') }}"
                class="button hover:green ml-auto"
                hx-swap="innerHTML"
                hx-include="this">Cancel</button>
        <button hx-post="{{ url_for('transactions.new') }}"
                hx-target="#overlay-error"
                hx-swap="innerHTML"
                class="button bg-green">Save</button>
    </div>
</div>
