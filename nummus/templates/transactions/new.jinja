<div class="absolute inset-0 bg-grey-500 opacity-50 z-[-1] cursor-pointer max-md:hidden"
     hx-get="{{ url_for('common.empty') }}"
     hx-swap="innerHTML"></div>
<div class="w-full max-md:min-h-full md:w-[500px] md:h-[400px] md:max-h-[90vh] bg-white opacity-100 m-auto flex flex-col py-2 px-6"
     hx-include="#form-txn">
    <div class="flex items-start mb-2">
        <h1 class="font-serif text-2xl text-green-600 grow">New transaction</h1>
        <button hx-get="{{ url_for('common.empty') }}"
                class="shrink-0"
                hx-swap="innerHTML">
            {% with class="w-[32px] h-[32px]" %}
                {% include "svg/x.svg" %}
            {% endwith %}
        </button>
    </div>
    <div class="flex w-full gap-1 min-h-0 flex-col grow" id="form-txn">
        <div class="flex gap-1 flex-wrap min-h-7">
            <div class="w-28 shrink-1">Date</div>
            <div class="grow">
                <input class="w-full"
                       name="date"
                       type="date"
                       value="{{ parent["date"] }}"
                       autocomplete="off">
            </div>
        </div>
        <div class="flex gap-1 flex-wrap min-h-7">
            <div class="w-28 shrink-1">Account Name</div>
            <div class="grow">
                <select class="w-full" name="account" autocomplete="off">
                    {% for item in accounts %}
                        <option value="{{ item | e }}"
                                {% if item == parent["account"] %}selected{% endif %}>{{ item }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="flex gap-1 flex-wrap min-h-7">
            <div class="w-28 shrink-1">Total Amount</div>
            <div class="grow">
                <input name="amount"
                       value="{{ parent["amount"] or "" }}"
                       placeholder="Amount"
                       class="w-full"
                       autocomplete="off">
            </div>
        </div>
        <div class="flex gap-1 flex-wrap min-h-7">
            <div class="w-28 shrink-1">Statement</div>
            <div class="grow">
                <input name="statement"
                       value="{{ (parent["statement"] or "") | e }}"
                       placeholder="Manually added"
                       class="w-full"
                       autocomplete="off">
            </div>
        </div>
    </div>
    <div id="overlay-error"
         class="w-full bg-red p-1 text-xl empty:hidden my-1"></div>
    <div class="w-full flex justify-between items-center text-xl gap-4 flex-wrap">
        <div class="grow"></div>
        <button hx-get="{{ url_for('common.empty') }}"
                class="button hover-green"
                hx-swap="innerHTML"
                hx-include="this">Cancel</button>
        <button hx-post="{{ url_for('transactions.new') }}"
                hx-target="#overlay-error"
                hx-swap="innerHTML"
                class="button bg-green">Save</button>
    </div>
</div>
